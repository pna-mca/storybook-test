(self.webpackChunkangular=self.webpackChunkangular||[]).push([[9222],{"./libs/shared/ui/form-validation/src/lib/components/control-error/control-error.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"mat-error {\n  margin-top: -1.5rem;\n  font-size: 75%;\n  padding-left: 0.5rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/shared/ui/form-validation/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>SharedUiFormValidationModule});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),src=__webpack_require__("./libs/shared/utils/translation/src/index.ts"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");var control_error_componentngResource=__webpack_require__("./libs/shared/ui/form-validation/src/lib/components/control-error/control-error.component.scss?ngResource"),control_error_componentngResource_default=__webpack_require__.n(control_error_componentngResource),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2022/ngx-translate-core.mjs"),functions_src=__webpack_require__("./libs/shared/utils/functions/src/index.ts");let ControlErrorComponent=class ControlErrorComponent{changeDetector;translate;errorMessage;hide=!0;_maxValue=0;template;set text(value){if(value!==this.errorMessage){let display=value;value&&(display=this.translate.instant(value),this._maxValue&&(display=(0,functions_src.Np)(display,this._maxValue.toString()))),this.errorMessage=display,this.hide=!value,this.changeDetector.detectChanges()}}set maxLength(value){this._maxValue=value}constructor(changeDetector,translate){this.changeDetector=changeDetector,this.translate=translate}static ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:ngx_translate_core.c$}];static propDecorators={template:[{type:core.Input}],text:[{type:core.Input}],maxLength:[{type:core.Input}]}};ControlErrorComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"form-validation-ui-control-error",template:'<mat-error *ngIf="errorMessage">\r\n  {{ errorMessage }}\r\n</mat-error>\r\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[control_error_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,ngx_translate_core.c$])],ControlErrorComponent);var fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),ngneat_until_destroy=__webpack_require__("./node_modules/@ngneat/until-destroy/fesm2022/ngneat-until-destroy.mjs"),helpers=__webpack_require__("./libs/shared/utils/helpers/index.ts"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),empty=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js");let ControlErrorContainerDirective=class ControlErrorContainerDirective{vcr;constructor(vcr){this.vcr=vcr}static ctorParameters=()=>[{type:core.ViewContainerRef}]};ControlErrorContainerDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[formGroup], [controlErrorContainer], [formGroupName]"}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef])],ControlErrorContainerDirective);let ControlErrorDirective=class ControlErrorDirective{controlErrorContainer;viewContainerRef;resolver;controlDir;ref;blur$=new Subject.B;container;default="generalControlErrorCodes";constructor(controlErrorContainer,viewContainerRef,resolver,controlDir){this.controlErrorContainer=controlErrorContainer,this.viewContainerRef=viewContainerRef,this.resolver=resolver,this.controlDir=controlDir,this.container=controlErrorContainer?.vcr??viewContainerRef}setError=(text,maxLength)=>{if(!this.ref){const factory=this.resolver.resolveComponentFactory(ControlErrorComponent);this.ref=this.container.createComponent(factory)}this.ref.instance.maxLength=maxLength??0,this.ref.instance.text=text};ngOnInit(){this.blur$.pipe((0,ngneat_until_destroy.s)(this)).subscribe((()=>{this.controlDir?.control?.markAsDirty();const controlName=this.controlDir.name,controlErrors=this.controlDir?.control?.errors;if(controlErrors){const firstKey=Object.keys(controlErrors)[0];let text="";firstKey in helpers.xc[this.default]?text=helpers.xc[this.default][firstKey]:null!==controlName&&controlName in helpers.xc&&(text=helpers.xc[controlName][firstKey]);const requiredInfo=Object.values(controlErrors)[0],infoKey=Object.keys(requiredInfo)[0];this.setError(text,requiredInfo[infoKey])}})),(this.controlDir?.valueChanges??empty.w).pipe((0,ngneat_until_destroy.s)(this)).subscribe((()=>{const controlName=this.controlDir.name,controlErrors=this.controlDir?.control?.errors,dirtyOrTouched=!this.controlDir?.control?.pristine||!!this.controlDir?.control?.touched;if(controlErrors&&dirtyOrTouched){const firstKey=Object.keys(controlErrors)[0];let text="";firstKey in helpers.xc[this.default]?text=helpers.xc[this.default][firstKey]:null!==controlName&&controlName in helpers.xc&&(text=helpers.xc[controlName][firstKey]);const requiredInfo=Object.values(controlErrors)[0],infoKey=Object.keys(requiredInfo)[0];this.setError(text,requiredInfo[infoKey])}else this.setError("",0)}))}handleBlurEvent(event){this.controlDir?.control&&!this.controlDir.control.value&&this.blur$.next(event)}static ctorParameters=()=>[{type:ControlErrorContainerDirective,decorators:[{type:core.Optional}]},{type:core.ViewContainerRef},{type:core.ComponentFactoryResolver},{type:fesm2022_forms.vO}];static propDecorators={handleBlurEvent:[{type:core.HostListener,args:["onBlur",["$event"]]},{type:core.HostListener,args:["blur",["$event"]]}]}};ControlErrorDirective=(0,tslib_es6.Cg)([(0,ngneat_until_destroy.d)(),(0,core.Directive)({selector:"[formControl], [formControlName], [formGroupName]"}),(0,tslib_es6.Sn)("design:paramtypes",[ControlErrorContainerDirective,core.ViewContainerRef,core.ComponentFactoryResolver,fesm2022_forms.vO])],ControlErrorDirective);let SharedUiFormValidationModule=class SharedUiFormValidationModule{};SharedUiFormValidationModule=(0,tslib_es6.Cg)([(0,core.NgModule)({imports:[common.CommonModule,src.eU,form_field.RG],declarations:[ControlErrorComponent,ControlErrorContainerDirective,ControlErrorDirective],exports:[ControlErrorComponent,ControlErrorContainerDirective,ControlErrorDirective]})],SharedUiFormValidationModule)},"./libs/shared/utils/functions/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ek:()=>combineStrings,b2:()=>concatenateUrl,Np:()=>stringFormat,yN:()=>timeToMinutes});var enums=__webpack_require__("./libs/shared/utils/enums/index.ts");function stringFormat(str,...args){return str.replace(/{(\d+)}/g,((match,index)=>args[index].toString()||""))}function timeToMinutes(value){return 60*value.hours+value.minutes}function combineStrings(option,...strings){let result="";const notNullStrings=strings.filter((x=>x)).map((x=>x));for(let i=0;i<notNullStrings.length;i++)result+=notNullStrings[i],notNullStrings.length>i+1&&option===enums.Q4.WithDash?result+=" - ":notNullStrings.length>i+1&&option===enums.Q4.Default?result+=" ":notNullStrings.length>i+1&&option===enums.Q4.WithComma&&(result+=", ");return result}function concatenateUrl(baseUrl,url){const path=function getPath(url){return void 0===url?"":url instanceof URL?url.pathname.substring(1):url}(url);return`${baseUrl}${path}`}},"./libs/shared/ui/form-field/src/lib/components/form-input-field/form-input-field.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),_shared_utils_translations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/shared/utils/translation/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_angular_material_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_shared_ui_form_validation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/shared/ui/form-validation/src/index.ts"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ngx-translate/core/fesm2022/ngx-translate-core.mjs"),_angular_common_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_shared_utils_app_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/shared/utils/app-config/src/index.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"shared/Ui/Form-field/FormInputField",argTypes:{title:{control:"text"},tooltip:{control:"text"}},decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__.BrowserAnimationsModule,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_6__.RG,_angular_material_input__WEBPACK_IMPORTED_MODULE_7__.fS,_angular_material_tooltip__WEBPACK_IMPORTED_MODULE_8__.uc,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.h.forRoot({loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.Wr,useClass:_shared_utils_translations__WEBPACK_IMPORTED_MODULE_0__.J_,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Qq,_shared_utils_app_config__WEBPACK_IMPORTED_MODULE_3__.oO]},isolate:!1}),_angular_forms__WEBPACK_IMPORTED_MODULE_11__.YN,_shared_ui_form_validation__WEBPACK_IMPORTED_MODULE_2__.D,_angular_forms__WEBPACK_IMPORTED_MODULE_11__.X1,_shared_utils_translations__WEBPACK_IMPORTED_MODULE_0__.eU]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.applicationConfig)({providers:[{provide:_shared_utils_app_config__WEBPACK_IMPORTED_MODULE_3__.oO,useValue:{baseApiUrl:"http://localhost:63869/api/",translations:{en:"/assets/translations/en.json",dk:"/assets/translations/dk.json",default:"en"}}},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_12__.APP_INITIALIZER,useFactory:_shared_utils_translations__WEBPACK_IMPORTED_MODULE_0__.r$,deps:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.c$,_angular_core__WEBPACK_IMPORTED_MODULE_12__.Injector,_shared_utils_app_config__WEBPACK_IMPORTED_MODULE_3__.oO],multi:!0},(0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.importProvidersFrom)(_angular_common_http__WEBPACK_IMPORTED_MODULE_10__.q1),(0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.importProvidersFrom)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.h.forRoot({loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.Wr,useClass:_shared_utils_translations__WEBPACK_IMPORTED_MODULE_0__.J_,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Qq,_shared_utils_app_config__WEBPACK_IMPORTED_MODULE_3__.oO]},isolate:!1}))]})]},Default=(args=>({props:{...args,formGroup:new _angular_forms__WEBPACK_IMPORTED_MODULE_11__.gE({formName:new _angular_forms__WEBPACK_IMPORTED_MODULE_11__.MJ})},template:'\n    <mat-form-field\n      class="full-width"\n      [formGroup]="formGroup"\n      [matTooltipDisabled]="!tooltip"\n      [matTooltip]="tooltip! | translate">\n      <input\n        matInput\n        [placeholder]="title"\n        [required]="true"\n        formControlName="formName"\n    />\n    </mat-form-field>\n  '})).bind({});Default.args={name:"Example",tooltip:"Tooltip"};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'args => ({\n  props: {\n    ...args,\n    formGroup: new FormGroup({\n      formName: new FormControl()\n    })\n  },\n  template: `\n    <mat-form-field\n      class="full-width"\n      [formGroup]="formGroup"\n      [matTooltipDisabled]="!tooltip"\n      [matTooltip]="tooltip! | translate">\n      <input\n        matInput\n        [placeholder]="title"\n        [required]="true"\n        formControlName="formName"\n    />\n    </mat-form-field>\n  `\n})',...Default.parameters?.docs?.source}}}}}]);